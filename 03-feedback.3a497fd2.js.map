{"mappings":"AAAA,MAAMA,EAAOC,SAASC,cAAc,kBAa5BC,EAAOC,IACX,IACE,MAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,IAqB/C,WACI,IAAIC,EAAYX,EAvCK,uBAyCjBW,IAEAd,EAAKe,SAASC,MAAMC,MAAQH,EAAUE,MACtChB,EAAKe,SAASF,QAAQI,MAAQH,EAAUD,Q,CArBhDK,GAEAlB,EAAKmB,iBAAiB,SAEtB,WACI,MAAMC,EAAWpB,EAAKe,SAASC,MAAMC,MAC/BI,EAAarB,EAAKe,SAASF,QAAQI,MAKrC,MA/BK,EAACb,EAAKa,KACf,IACE,MAAMZ,EAAkBI,KAAKa,UAAUL,GACvCX,aAAaiB,QAAQnB,EAAKC,E,CAC1B,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GA0BhCW,CAlCU,sBA8BD,CAChBR,MAAOI,EACPP,QAASQ,G,IAiBjBrB,EAAKmB,iBAAiB,UAEtB,SAAsBM,GAClBA,EAAMC,iBAENd,QAAQe,IAAIxB,EAtDS,wBAuDrBsB,EAAMG,OAAOC,QACbvB,aAAawB,WAxDQ,sB","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nconst save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error(\"Set state error: \", error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n \n\n\ninitForm();\n\nform.addEventListener(\"input\", handleInput);\n\nfunction handleInput() {\n    const emailRef = form.elements.email.value;\n    const messageRef = form.elements.message.value;\n    const feedbackRef = {\n        email: emailRef,\n        message: messageRef\n    }\n        return save(LOCALSTORAGE_KEY, feedbackRef)\n}\n\n\nfunction initForm() {\n    let savedData = load(LOCALSTORAGE_KEY);\n\n    if (savedData) {\n        \n        form.elements.email.value = savedData.email;\n        form.elements.message.value = savedData.message;\n    }\n  }\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    \n    console.log(load(LOCALSTORAGE_KEY));\n    event.target.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n   \n}"],"names":["$945622fd0f572e60$var$form","document","querySelector","$945622fd0f572e60$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","savedData","elements","email","value","$945622fd0f572e60$var$initForm","addEventListener","emailRef","messageRef","stringify","setItem","$945622fd0f572e60$var$save","event","preventDefault","log","target","reset","removeItem"],"version":3,"file":"03-feedback.3a497fd2.js.map"}