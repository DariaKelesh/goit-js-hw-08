{"mappings":"YAAA,IAwCQA,EAxCFC,EAAOC,SAASC,cAAc,kBAC9BC,EAAmB,sBAYjBC,EAAO,SAAAC,GACX,IACE,IAAMC,EAAkBC,aAAaC,QAAQH,GAC7C,OAA2B,OAApBC,OAA2BG,EAAYC,KAAKC,MAAML,E,CACzD,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,IAsBvCf,EAAYK,EAAKD,MAIjBH,EAAKe,SAASC,MAAMC,MAAQlB,EAAUiB,MACtChB,EAAKe,SAASD,QAAQG,MAAQlB,EAAUe,SAnBhDd,EAAKkB,iBAAiB,SAEtB,WACI,IAAMC,EAAWnB,EAAKe,SAASC,MAAMC,MAC/BG,EAAapB,EAAKe,SAASD,QAAQG,MAKrC,OA/BK,SAACZ,EAAKY,GACf,IACE,IAAMX,EAAkBI,KAAKW,UAAUJ,GACvCV,aAAae,QAAQjB,EAAKC,E,CAC1B,MAAOM,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,EA0BhCS,CAAKpB,EAJI,CAChBa,MAAOG,EACPL,QAASM,G,IAiBjBpB,EAAKkB,iBAAiB,UAEtB,SAAsBM,GAClBA,EAAMC,iBAENZ,QAAQa,IAAItB,EAAKD,IACjBqB,EAAMG,OAAOC,QACbrB,aAAasB,WAAW1B,E","sources":["src/js/03-feedback.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst LOCALSTORAGE_KEY = \"feedback-form-state\";\n\n\nconst save = (key, value) => {\n    try {\n      const serializedState = JSON.stringify(value);\n      localStorage.setItem(key, serializedState);\n    } catch (error) {\n      console.error(\"Set state error: \", error.message);\n    }\n  };\n  \n  const load = key => {\n    try {\n      const serializedState = localStorage.getItem(key);\n      return serializedState === null ? undefined : JSON.parse(serializedState);\n    } catch (error) {\n      console.error(\"Get state error: \", error.message);\n    }\n  };\n \n\n\ninitForm();\n\nform.addEventListener(\"input\", handleInput);\n\nfunction handleInput() {\n    const emailRef = form.elements.email.value;\n    const messageRef = form.elements.message.value;\n    const feedbackRef = {\n        email: emailRef,\n        message: messageRef\n    }\n        return save(LOCALSTORAGE_KEY, feedbackRef)\n}\n\n\nfunction initForm() {\n    let savedData = load(LOCALSTORAGE_KEY);\n\n    if (savedData) {\n        \n        form.elements.email.value = savedData.email;\n        form.elements.message.value = savedData.message;\n    }\n  }\n\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n    \n    console.log(load(LOCALSTORAGE_KEY));\n    event.target.reset();\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n   \n}"],"names":["savedData","$b00c40859be242c5$var$form","document","querySelector","$b00c40859be242c5$var$LOCALSTORAGE_KEY","$b00c40859be242c5$var$load","key","serializedState","localStorage","getItem","undefined","JSON","parse","error","console","message","elements","email","value","addEventListener","emailRef","messageRef","stringify","setItem","$b00c40859be242c5$var$save","event","preventDefault","log","target","reset","removeItem"],"version":3,"file":"03-feedback.3e51f4db.js.map"}